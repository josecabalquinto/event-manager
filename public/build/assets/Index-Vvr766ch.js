import{r as b,c as E,a as j,w,b as e,d as a,e as p,k as x,o as n,F as m,h as y,t as o,A as h,v as T,l as H,n as f,f as L,u as C,i as S,g as A,N as u}from"./app-qAvELMBE.js";import{_ as O}from"./AdminLayout-DffF_jUa.js";const G={class:"space-y-6"},q={class:"bg-white rounded-xl shadow-sm p-6"},J={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},K={class:"flex items-center gap-3"},Q=["value"],W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},X={class:"bg-white rounded-xl shadow-sm p-6"},Y={class:"flex items-center"},Z={class:"ml-4"},ee={class:"text-2xl font-semibold text-gray-900"},te={class:"bg-white rounded-xl shadow-sm p-6"},se={class:"flex items-center"},oe={class:"ml-4"},le={class:"text-2xl font-semibold text-yellow-600"},re={class:"bg-white rounded-xl shadow-sm p-6"},ne={class:"flex items-center"},ie={class:"ml-4"},ae={class:"text-2xl font-semibold text-green-600"},de={class:"bg-white rounded-xl shadow-sm p-6"},ce={class:"flex items-center"},ue={class:"ml-4"},pe={class:"text-2xl font-semibold text-red-600"},xe={class:"bg-white rounded-xl shadow-sm p-6"},ge={class:"flex items-center"},ve={class:"ml-4"},me={class:"text-2xl font-semibold text-purple-600"},ye={class:"bg-white rounded-xl shadow-sm p-6"},he={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},fe=["value"],be={key:0,class:"bg-white rounded-xl shadow-sm p-6"},we={class:"flex items-center justify-between"},ke={class:"text-sm text-gray-600"},_e={class:"bg-white rounded-xl shadow-sm overflow-hidden"},je={class:"px-6 py-4 border-b border-gray-200"},Ce={class:"flex items-center justify-between"},Se={class:"flex items-center gap-2"},Ae=["checked"],Me={class:"overflow-x-auto"},Re={class:"min-w-full divide-y divide-gray-200"},Ve={class:"bg-white divide-y divide-gray-200"},Pe={class:"px-6 py-4 whitespace-nowrap"},Fe=["value"],Be={class:"px-6 py-4 whitespace-nowrap"},Ue={class:"flex items-center"},Ne={class:"text-sm font-medium text-gray-900"},De={class:"text-sm text-gray-500"},Ie={key:0,class:"text-xs text-gray-400"},$e={class:"px-6 py-4 whitespace-nowrap"},ze={class:"text-sm text-gray-900"},Ee={class:"text-sm text-gray-500"},Te={class:"text-xs text-gray-400"},He={class:"px-6 py-4 whitespace-nowrap"},Le={class:"text-xs text-gray-400 mt-1"},Oe={class:"px-6 py-4 whitespace-nowrap"},Ge={key:0,class:"text-xs text-gray-400 mt-1"},qe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Je={class:"flex items-center gap-2"},Ke=["onClick"],Qe=["onClick"],We=["onClick"],Xe={key:0,class:"px-6 py-4 border-t border-gray-200"},Ye={class:"flex items-center justify-between"},Ze={class:"text-sm text-gray-700"},et={class:"flex items-center gap-2"},ot={__name:"Index",props:{participants:Object,events:Array,filters:Object,stats:Object},setup(i){const c=i,l=b([]),g=b(""),d=b({search:c.filters.search||"",event_id:c.filters.event_id||"",status:c.filters.status||"",checked_in:c.filters.checked_in||""}),k=E(()=>c.participants.data.length>0&&l.value.length===c.participants.data.length),M=r=>{switch(r){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=r=>{switch(r){case"pending":return"Pending";case"approved":return"Approved";case"rejected":return"Rejected";default:return"Unknown"}},V=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=()=>{k.value?l.value=[]:l.value=c.participants.data.map(r=>r.id)},F=()=>{d.value={search:"",event_id:"",status:"",checked_in:""},_()},_=()=>{u.get(route("admin.participants.index"),d.value,{preserveState:!0,replace:!0})},B=r=>{u.post(route("admin.participants.approve",r),{},{preserveScroll:!0})},U=r=>{u.post(route("admin.participants.reject",r),{},{preserveScroll:!0})},N=r=>{confirm("Are you sure you want to remove this participant? This action cannot be undone.")&&u.delete(route("admin.participants.destroy",r),{preserveScroll:!0})},D=()=>{confirm(`Are you sure you want to approve ${l.value.length} selected registrations?`)&&u.post(route("admin.participants.bulk-approve"),{registration_ids:l.value},{preserveScroll:!0,onSuccess:()=>{l.value=[]}})},I=()=>{confirm(`Are you sure you want to reject ${l.value.length} selected registrations?`)&&u.post(route("admin.participants.bulk-reject"),{registration_ids:l.value},{preserveScroll:!0,onSuccess:()=>{l.value=[]}})},$=()=>{confirm(`Are you sure you want to remove ${l.value.length} selected participants? This action cannot be undone.`)&&u.post(route("admin.participants.bulk-destroy"),{registration_ids:l.value},{preserveScroll:!0,onSuccess:()=>{l.value=[]}})},z=()=>{g.value&&(window.open(route("admin.participants.attendance-report",g.value),"_blank"),g.value="")};return(r,t)=>(n(),j(O,null,{default:w(()=>[e("div",G,[e("div",q,[e("div",J,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Participant Management"),e("p",{class:"text-gray-600 mt-1"},"Manage event registrations, approvals, and attendance")],-1)),e("div",K,[x(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>g.value=s),onChange:z,class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"},[t[6]||(t[6]=e("option",{value:""},"Generate Report for Event...",-1)),(n(!0),a(m,null,y(i.events,s=>(n(),a("option",{key:s.id,value:s.id},o(s.title)+" ("+o(V(s.event_date))+") ",9,Q))),128))],544),[[h,g.value]])])])]),e("div",W,[e("div",X,[e("div",Y,[t[9]||(t[9]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),e("div",Z,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-500"},"Total",-1)),e("p",ee,o(i.stats.total_participants),1)])])]),e("div",te,[e("div",se,[t[11]||(t[11]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",oe,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-500"},"Pending",-1)),e("p",le,o(i.stats.pending),1)])])]),e("div",re,[e("div",ne,[t[13]||(t[13]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",ie,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),e("p",ae,o(i.stats.approved),1)])])]),e("div",de,[e("div",ce,[t[15]||(t[15]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])],-1)),e("div",ue,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),e("p",pe,o(i.stats.rejected),1)])])]),e("div",xe,[e("div",ge,[t[17]||(t[17]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])])],-1)),e("div",ve,[t[16]||(t[16]=e("p",{class:"text-sm font-medium text-gray-500"},"Checked In",-1)),e("p",me,o(i.stats.checked_in),1)])])])]),e("div",ye,[e("div",he,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Participants",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value.search=s),type:"text",placeholder:"Search by name or email...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"},null,512),[[T,d.value.search]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Filter by Event",-1)),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.value.event_id=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"},[t[19]||(t[19]=e("option",{value:""},"All Events",-1)),(n(!0),a(m,null,y(i.events,s=>(n(),a("option",{key:s.id,value:s.id},o(s.title),9,fe))),128))],512),[[h,d.value.event_id]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Filter by Status",-1)),x(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>d.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"},[...t[21]||(t[21]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)])],512),[[h,d.value.status]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Check-in Status",-1)),x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>d.value.checked_in=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"},[...t[23]||(t[23]=[e("option",{value:""},"All",-1),e("option",{value:"1"},"Checked In",-1),e("option",{value:"0"},"Not Checked In",-1)])],512),[[h,d.value.checked_in]])])]),e("div",{class:"flex items-center justify-between mt-4"},[e("button",{onClick:F,class:"text-gray-500 hover:text-gray-700 text-sm"}," Clear Filters "),e("button",{onClick:_,class:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors"}," Apply Filters ")])]),l.value.length>0?(n(),a("div",be,[e("div",we,[e("p",ke,o(l.value.length)+" participant(s) selected ",1),e("div",{class:"flex items-center gap-3"},[e("button",{onClick:D,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," Approve Selected "),e("button",{onClick:I,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Reject Selected "),e("button",{onClick:$,class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"}," Remove Selected ")])])])):p("",!0),e("div",_e,[e("div",je,[e("div",Ce,[t[26]||(t[26]=e("h2",{class:"text-lg font-medium text-gray-900"},"Participants",-1)),e("div",Se,[e("input",{type:"checkbox",checked:k.value,onChange:P,class:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"},null,40,Ae),t[25]||(t[25]=e("label",{class:"text-sm text-gray-600"},"Select All",-1))])])]),e("div",Me,[e("table",Re,[t[28]||(t[28]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Select "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Participant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Event "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Check-in "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ve,[(n(!0),a(m,null,y(i.participants.data,s=>(n(),a("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Pe,[x(e("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":t[5]||(t[5]=v=>l.value=v),class:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"},null,8,Fe),[[H,l.value]])]),e("td",Be,[e("div",Ue,[e("div",null,[e("div",Ne,o(s.participant.name),1),e("div",De,o(s.participant.email),1),s.participant.student_id?(n(),a("div",Ie," ID: "+o(s.participant.student_id)+" | "+o(s.participant.course)+" "+o(s.participant.year_level)+" "+o(s.participant.section),1)):p("",!0),e("span",{class:f(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-1",s.participant.type==="registered"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"])},o(s.participant.type==="registered"?"Registered User":"Guest"),3)])])]),e("td",$e,[e("div",ze,o(s.event.title),1),e("div",Ee,o(s.event.event_date),1),e("div",Te,o(s.event.location),1)]),e("td",He,[e("span",{class:f(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",M(s.status)])},o(R(s.status)),3),e("div",Le," Reg: "+o(s.registration_date),1)]),e("td",Oe,[e("span",{class:f(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.is_checked_in?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},o(s.is_checked_in?"Checked In":"Not Checked In"),3),s.check_in_time?(n(),a("div",Ge,o(s.check_in_time),1)):p("",!0)]),e("td",qe,[e("div",Je,[L(C(S),{href:r.route("admin.participants.show",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:w(()=>[...t[27]||(t[27]=[A(" View ",-1)])]),_:1},8,["href"]),s.status==="pending"?(n(),a("button",{key:0,onClick:v=>B(s.id),class:"text-green-600 hover:text-green-900"}," Approve ",8,Ke)):p("",!0),s.status==="pending"?(n(),a("button",{key:1,onClick:v=>U(s.id),class:"text-red-600 hover:text-red-900"}," Reject ",8,Qe)):p("",!0),e("button",{onClick:v=>N(s.id),class:"text-red-600 hover:text-red-900"}," Remove ",8,We)])])]))),128))])])]),i.participants.links?(n(),a("div",Xe,[e("div",Ye,[e("div",Ze," Showing "+o(i.participants.from)+" to "+o(i.participants.to)+" of "+o(i.participants.total)+" results ",1),e("div",et,[(n(!0),a(m,null,y(i.participants.links,s=>(n(),j(C(S),{key:s.label,href:s.url,class:f(["px-3 py-2 text-sm rounded-lg border",s.active?"bg-yellow-600 text-white border-yellow-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",s.url?"":"opacity-50 cursor-not-allowed"]),disabled:!s.url},{default:w(()=>[A(o(s.label),1)]),_:2},1032,["href","class","disabled"]))),128))])])])):p("",!0)])])]),_:1}))}};export{ot as default};
