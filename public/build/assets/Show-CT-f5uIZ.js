import{r as y,a as j,w as x,b as t,d as i,e as o,f as h,u as k,i as R,g as C,n as g,t as n,o as a,k as S,v as N,N as f}from"./app-qAvELMBE.js";import{_ as A}from"./AdminLayout-DffF_jUa.js";const B={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6"},I={class:"flex justify-between items-center mb-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},V={class:"bg-gray-50 p-4 rounded-lg"},E={class:"space-y-3"},M={class:"flex justify-between"},G={class:"flex justify-between"},L={class:"font-mono text-sm"},U={class:"flex justify-between"},z={key:0,class:"flex justify-between"},O={class:"text-gray-600"},q={key:1,class:"flex justify-between"},P={class:"text-gray-600"},Q={key:2,class:"pt-2 border-t"},Y={class:"text-gray-800 bg-red-50 p-2 rounded"},$={class:"bg-gray-50 p-4 rounded-lg"},F={class:"space-y-3"},H={class:"flex justify-between"},J={class:"font-medium"},K={class:"flex justify-between"},W={class:"flex justify-between"},X={key:0,class:"flex justify-between"},Z={class:"font-mono"},_={key:1,class:"flex justify-between"},tt={key:2,class:"flex justify-between"},et={key:3,class:"flex justify-between"},st={class:"bg-gray-50 p-4 rounded-lg"},nt={class:"space-y-3"},at={class:"flex justify-between"},it={class:"font-medium"},ot={class:"flex justify-between"},rt={class:"flex justify-between"},lt={class:"flex justify-between"},dt={class:"bg-gray-50 p-4 rounded-lg"},gt={class:"space-y-3"},ut={class:"flex justify-between"},ct={class:"flex justify-between"},yt={key:0,class:"mt-8 flex justify-center space-x-4"},xt={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},ft={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},vt={class:"text-sm text-gray-600 mb-4"},bt={class:"mb-4"},wt={__name:"Show",props:{registration:Object},setup(s){const u=s,l=y(!1),r=y(""),v=d=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[d]||"bg-gray-100 text-gray-800",b=()=>{f.post(route("admin.registrations.approve",u.registration.id),{},{onSuccess:()=>{}})},m=()=>{r.value="",l.value=!0},c=()=>{l.value=!1,r.value=""},p=()=>{f.post(route("admin.registrations.reject",u.registration.id),{reason:r.value},{onSuccess:()=>{c()}})};return(d,e)=>(a(),j(A,null,{default:x(()=>[t("div",B,[t("div",D,[t("div",I,[e[2]||(e[2]=t("h2",{class:"text-2xl font-bold text-gray-900"},"Registration Details",-1)),h(k(R),{href:d.route("admin.registrations.index"),class:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600"},{default:x(()=>[...e[1]||(e[1]=[C(" Back to List ",-1)])]),_:1},8,["href"])]),t("div",T,[t("div",V,[e[7]||(e[7]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Registration Status",-1)),t("div",E,[t("div",M,[e[3]||(e[3]=t("span",{class:"text-gray-600"},"Status:",-1)),t("span",{class:g([v(s.registration.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},n(s.registration.status.charAt(0).toUpperCase()+s.registration.status.slice(1)),3)]),t("div",G,[e[4]||(e[4]=t("span",{class:"text-gray-600"},"QR Code:",-1)),t("span",L,n(s.registration.qr_code),1)]),t("div",U,[e[5]||(e[5]=t("span",{class:"text-gray-600"},"Registered At:",-1)),t("span",null,n(s.registration.created_at),1)]),s.registration.approved_at?(a(),i("div",z,[t("span",O,n(s.registration.status==="approved"?"Approved":"Rejected")+" At:",1),t("span",null,n(s.registration.approved_at),1)])):o("",!0),s.registration.approved_by?(a(),i("div",q,[t("span",P,n(s.registration.status==="approved"?"Approved":"Rejected")+" By:",1),t("span",null,n(s.registration.approved_by.name),1)])):o("",!0),s.registration.rejection_reason?(a(),i("div",Q,[e[6]||(e[6]=t("span",{class:"text-gray-600 block mb-2"},"Rejection Reason:",-1)),t("p",Y,n(s.registration.rejection_reason),1)])):o("",!0)])]),t("div",$,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Participant Information",-1)),t("div",F,[t("div",H,[e[8]||(e[8]=t("span",{class:"text-gray-600"},"Name:",-1)),t("span",J,n(s.registration.registrant.name),1)]),t("div",K,[e[9]||(e[9]=t("span",{class:"text-gray-600"},"Email:",-1)),t("span",null,n(s.registration.registrant.email),1)]),t("div",W,[e[10]||(e[10]=t("span",{class:"text-gray-600"},"Type:",-1)),t("span",null,n(s.registration.registrant.is_guest?"Guest Registration":"Registered User"),1)]),s.registration.registrant.student_id?(a(),i("div",X,[e[11]||(e[11]=t("span",{class:"text-gray-600"},"Student ID:",-1)),t("span",Z,n(s.registration.registrant.student_id),1)])):o("",!0),s.registration.registrant.course?(a(),i("div",_,[e[12]||(e[12]=t("span",{class:"text-gray-600"},"Course:",-1)),t("span",null,n(s.registration.registrant.course),1)])):o("",!0),s.registration.registrant.year_level?(a(),i("div",tt,[e[13]||(e[13]=t("span",{class:"text-gray-600"},"Year Level:",-1)),t("span",null,n(s.registration.registrant.year_level),1)])):o("",!0),s.registration.registrant.section?(a(),i("div",et,[e[14]||(e[14]=t("span",{class:"text-gray-600"},"Section:",-1)),t("span",null,n(s.registration.registrant.section),1)])):o("",!0)])]),t("div",st,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Event Information",-1)),t("div",nt,[t("div",at,[e[16]||(e[16]=t("span",{class:"text-gray-600"},"Title:",-1)),t("span",it,n(s.registration.event.title),1)]),t("div",ot,[e[17]||(e[17]=t("span",{class:"text-gray-600"},"Date:",-1)),t("span",null,n(s.registration.event.event_date),1)]),t("div",rt,[e[18]||(e[18]=t("span",{class:"text-gray-600"},"Time:",-1)),t("span",null,n(s.registration.event.event_time),1)]),t("div",lt,[e[19]||(e[19]=t("span",{class:"text-gray-600"},"Location:",-1)),t("span",null,n(s.registration.event.location),1)])])]),t("div",dt,[e[23]||(e[23]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Attendance & Certificate",-1)),t("div",gt,[t("div",ut,[e[21]||(e[21]=t("span",{class:"text-gray-600"},"Check-in Status:",-1)),t("span",{class:g(s.registration.is_checked_in?"text-green-600":"text-gray-500")},n(s.registration.is_checked_in?"Checked In":"Not Checked In"),3)]),t("div",ct,[e[22]||(e[22]=t("span",{class:"text-gray-600"},"Certificate:",-1)),t("span",{class:g(s.registration.has_certificate?"text-green-600":"text-gray-500")},n(s.registration.has_certificate?"Generated":"Not Generated"),3)])])])]),s.registration.status==="pending"?(a(),i("div",yt,[t("button",{onClick:b,class:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," Approve Registration "),t("button",{onClick:m,class:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Reject Registration ")])):o("",!0)])]),l.value?(a(),i("div",xt,[t("div",ft,[e[25]||(e[25]=t("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Reject Registration",-1)),t("p",vt," Are you sure you want to reject the registration for "+n(s.registration.registrant.name)+"? ",1),t("div",bt,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason (Optional)",-1)),S(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=w=>r.value=w),class:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Enter reason for rejection..."},null,512),[[N,r.value]])]),t("div",{class:"flex justify-end space-x-3"},[t("button",{onClick:c,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400"}," Cancel "),t("button",{onClick:p,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700"}," Reject ")])])])):o("",!0)]),_:1}))}};export{wt as default};
