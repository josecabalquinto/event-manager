import{_ as D}from"./AdminLayout-DffF_jUa.js";import{a as y,w as i,b as t,f as x,u as l,i as c,g as p,d as n,o as a,F as A,h as C,t as d,e as g,n as E,N}from"./app-qAvELMBE.js";const S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6"},V={class:"flex justify-between items-center mb-6"},L={class:"overflow-x-auto"},M={class:"min-w-full divide-y divide-gray-200"},F={class:"bg-white divide-y divide-gray-200"},I={class:"px-6 py-4"},P={class:"px-6 py-4"},R={class:"px-6 py-4"},j={class:"px-6 py-4"},z={class:"px-6 py-4"},G={class:"flex items-center space-x-2"},O={key:0,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800"},T={key:1,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-600"},U={class:"px-6 py-4"},q={class:"px-6 py-4 space-x-2"},H=["onClick"],Q={__name:"Index",props:{events:Array},setup(h){const _=o=>{confirm(`Are you sure you want to approve all pending registrations for "${o.title}"?`)&&N.post(route("admin.events.approve-all-registrations",o.id),{},{onSuccess:()=>{}})},b=(o,s)=>{try{const e=new Date(o),u={year:"numeric",month:"long",day:"numeric"},v=e.toLocaleDateString("en-US",u);let f="";if(s){const[w,m]=s.split(":"),r=parseInt(w),k=r===0?12:r>12?r-12:r,$=r>=12?"PM":"AM";f=` ${k}${m!=="00"?":"+m:""}${$}`}return`${v}${f}`}catch(e){return console.error("Date formatting error:",e),`${o} ${s||""}`.trim()}};return(o,s)=>(a(),y(D,null,{default:i(()=>[t("div",S,[t("div",B,[t("div",V,[s[1]||(s[1]=t("h2",{class:"text-2xl font-bold"},"Events Management",-1)),x(l(c),{href:o.route("admin.events.create"),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"},{default:i(()=>[...s[0]||(s[0]=[p(" Create Event ",-1)])]),_:1},8,["href"])]),t("div",L,[t("table",M,[s[5]||(s[5]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Title"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Location"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Registrations"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Certificates"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),t("tbody",F,[(a(!0),n(A,null,C(h.events,e=>(a(),n("tr",{key:e.id},[t("td",I,d(e.title),1),t("td",P,d(b(e.event_date,e.event_time)),1),t("td",R,d(e.location),1),t("td",j,d(e.registrations_count),1),t("td",z,[t("div",G,[e.has_certificate?(a(),n("span",O," Enabled ")):(a(),n("span",T," Disabled ")),e.has_certificate&&e.registrations_count>0?(a(),y(l(c),{key:2,href:o.route("admin.certificates.create",{event_id:e.id}),class:"text-blue-600 hover:text-blue-800 text-xs"},{default:i(()=>[...s[2]||(s[2]=[p(" Generate ",-1)])]),_:1},8,["href"])):g("",!0)])]),t("td",U,[t("span",{class:E([e.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 py-1 text-xs rounded"])},d(e.is_published?"Published":"Draft"),3)]),t("td",q,[x(l(c),{href:o.route("admin.events.edit",e.id),class:"text-indigo-600 hover:text-indigo-900"},{default:i(()=>[...s[3]||(s[3]=[p("Edit",-1)])]),_:1},8,["href"]),e.registrations_count>0?(a(),n("button",{key:0,onClick:u=>_(e),class:"text-green-600 hover:text-green-900"}," Approve All ",8,H)):g("",!0),x(l(c),{href:o.route("admin.events.destroy",e.id),method:"delete",as:"button",class:"text-red-600 hover:text-red-900"},{default:i(()=>[...s[4]||(s[4]=[p("Delete",-1)])]),_:1},8,["href"])])]))),128))])])])])])]),_:1}))}};export{Q as default};
