import{r as d,m as V,a as B,w as j,b as t,d as o,e as n,o as a,k,v as _,q as N,F as S,h as M,t as i,n as x,N as g,x as D}from"./app-qAvELMBE.js";import{_ as E}from"./AppLayout--8fDdZvx.js";const H={class:"min-h-screen bg-gradient-to-br from-gray-50 to-yellow-50 py-12"},F={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},L={key:0,class:"bg-white rounded-2xl shadow-lg p-8 mb-8"},T={class:"max-w-2xl mx-auto"},z={class:"mb-6"},A={class:"flex gap-3"},O=["disabled"],q={key:0},I={key:1},K={class:"mb-6"},P={class:"flex gap-3"},R=["disabled"],U={key:0},$={key:1},Q={key:0,class:"space-y-4"},G={class:"grid gap-4"},J=["onClick"],W={class:"flex justify-between items-start"},X={class:"font-semibold text-gray-800"},Y={class:"text-gray-600"},Z={class:"text-sm text-gray-500"},tt={class:"text-sm text-gray-500"},et={key:1,class:"bg-white rounded-2xl shadow-lg p-8"},st={class:"text-center mb-8"},it={key:0,class:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},at={key:1,class:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ot={class:"text-gray-600"},lt={key:0,class:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-6 mb-8"},nt={class:"grid md:grid-cols-2 gap-6"},rt={class:"space-y-3"},ct={class:"text-gray-800"},dt={class:"text-gray-800"},ut={class:"text-gray-800"},ft={class:"space-y-3"},ht={class:"text-gray-800"},xt={class:"text-gray-800"},mt={key:0},gt={class:"text-gray-800"},vt={class:"grid md:grid-cols-2 gap-6 mb-8"},bt={class:"bg-gray-50 rounded-lg p-4"},yt={class:"flex items-center"},kt={class:"bg-gray-50 rounded-lg p-4"},_t={class:"flex items-center"},pt={key:1,class:"bg-blue-50 rounded-lg p-4 mb-8"},wt={class:"space-y-2 text-sm"},Ct={class:"font-mono text-gray-600 break-all"},Vt={class:"font-mono text-gray-600 break-all"},Bt={key:2,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8"},jt={class:"flex items-center"},Nt={class:"text-red-800"},Et={__name:"Verify",props:{hash:String,certificate:Object,blockchain_data:Object,verification_result:Object},setup(s){const v=s,r=d(""),u=d(""),m=d([]),b=d(!1),f=d(!1),h=d("");V(()=>{v.hash&&(r.value=v.hash)});const p=()=>{r.value&&g.visit(route("certificates.verify",{hash:r.value}))},y=async()=>{if(u.value){f.value=!0,h.value="";try{const c=await D.post(route("certificates.search"),{query:u.value});m.value=c.data.certificates}catch(c){h.value="Search failed. Please try again.",console.error(c)}finally{f.value=!1}}},w=c=>{g.visit(route("certificates.verify",{hash:c}))},C=()=>{g.visit(route("certificates.verify"))};return(c,e)=>(a(),B(E,null,{default:j(()=>[t("div",H,[t("div",F,[e[23]||(e[23]=t("div",{class:"text-center mb-12"},[t("div",{class:"bg-gradient-to-r from-yellow-600 to-yellow-500 p-3 rounded-xl shadow-md mx-auto w-16 h-16 flex items-center justify-center mb-6"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.031 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])]),t("h1",{class:"text-4xl font-bold bg-gradient-to-r from-yellow-600 to-yellow-500 bg-clip-text text-transparent mb-4"}," Certificate Verification "),t("p",{class:"text-lg text-gray-600 max-w-2xl mx-auto"}," Verify the authenticity of certificates using blockchain technology. Enter a certificate hash or search by participant name. ")],-1)),s.hash?n("",!0):(a(),o("div",L,[t("div",T,[e[6]||(e[6]=t("h2",{class:"text-2xl font-semibold text-gray-800 mb-6 text-center"},"Search Certificate",-1)),t("div",z,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Certificate Hash",-1)),t("div",A,[k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),type:"text",placeholder:"Enter certificate hash...",class:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500"},null,512),[[_,r.value]]),t("button",{onClick:p,disabled:!r.value||b.value,class:"px-6 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[b.value?(a(),o("span",q,"Verifying...")):(a(),o("span",I,"Verify"))],8,O)])]),e[7]||(e[7]=t("div",{class:"text-center text-gray-500 mb-6"},"or",-1)),t("div",K,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search by Name or Certificate Number",-1)),t("div",P,[k(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),type:"text",placeholder:"Enter participant name or certificate number...",class:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500",onKeyup:N(y,["enter"])},null,544),[[_,u.value]]),t("button",{onClick:y,disabled:!u.value||f.value,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[f.value?(a(),o("span",U,"Searching...")):(a(),o("span",$,"Search"))],8,R)])]),m.value.length>0?(a(),o("div",Q,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold text-gray-800"},"Search Results",-1)),t("div",G,[(a(!0),o(S,null,M(m.value,l=>(a(),o("div",{key:l.certificate_hash,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:St=>w(l.certificate_hash)},[t("div",W,[t("div",null,[t("h4",X,i(l.participant_name),1),t("p",Y,i(l.event_title),1),t("p",Z,"Certificate #"+i(l.certificate_number),1),t("p",tt,"Completed: "+i(l.completion_date),1)]),e[4]||(e[4]=t("button",{class:"text-yellow-600 hover:text-yellow-700 font-medium text-sm"}," Verify → ",-1))])],8,J))),128))])])):n("",!0)])])),s.verification_result?(a(),o("div",et,[t("div",st,[t("div",{class:x(["mx-auto w-20 h-20 rounded-full flex items-center justify-center mb-4",s.verification_result.is_authentic?"bg-green-100":"bg-red-100"])},[s.verification_result.is_authentic?(a(),o("svg",it,[...e[8]||(e[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(a(),o("svg",at,[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])]))],2),t("h2",{class:x(["text-3xl font-bold mb-2",s.verification_result.is_authentic?"text-green-600":"text-red-600"])},i(s.verification_result.is_authentic?"Certificate Verified":"Verification Failed"),3),t("p",ot,i(s.verification_result.is_authentic?"This certificate is authentic and verified on the blockchain.":"This certificate could not be verified or does not exist."),1)]),s.certificate&&s.verification_result.is_authentic?(a(),o("div",lt,[e[16]||(e[16]=t("h3",{class:"text-xl font-semibold text-gray-800 mb-4"},"Certificate Details",-1)),t("div",nt,[t("div",null,[t("div",rt,[t("div",null,[e[10]||(e[10]=t("span",{class:"font-medium text-gray-700"},"Participant:",-1)),t("p",ct,i(s.certificate.participant_name),1)]),t("div",null,[e[11]||(e[11]=t("span",{class:"font-medium text-gray-700"},"Event:",-1)),t("p",dt,i(s.certificate.event_title),1)]),t("div",null,[e[12]||(e[12]=t("span",{class:"font-medium text-gray-700"},"Certificate Number:",-1)),t("p",ut,i(s.certificate.certificate_number),1)])])]),t("div",null,[t("div",ft,[t("div",null,[e[13]||(e[13]=t("span",{class:"font-medium text-gray-700"},"Event Date:",-1)),t("p",ht,i(s.certificate.event_date),1)]),t("div",null,[e[14]||(e[14]=t("span",{class:"font-medium text-gray-700"},"Completion Date:",-1)),t("p",xt,i(s.certificate.completion_date),1)]),s.certificate.blockchain_issued_at?(a(),o("div",mt,[e[15]||(e[15]=t("span",{class:"font-medium text-gray-700"},"Blockchain Issued:",-1)),t("p",gt,i(new Date(s.certificate.blockchain_issued_at).toLocaleString()),1)])):n("",!0)])])])])):n("",!0),t("div",vt,[t("div",bt,[e[17]||(e[17]=t("h4",{class:"font-semibold text-gray-800 mb-2"},"Database Verification",-1)),t("div",yt,[t("span",{class:x(s.verification_result.local_exists?"text-green-600":"text-red-600")},i(s.verification_result.local_exists?"✓ Found in database":"✗ Not found in database"),3)])]),t("div",kt,[e[18]||(e[18]=t("h4",{class:"font-semibold text-gray-800 mb-2"},"Blockchain Verification",-1)),t("div",_t,[t("span",{class:x(s.verification_result.blockchain_exists?"text-green-600":"text-red-600")},i(s.verification_result.blockchain_exists?"✓ Verified on blockchain":"✗ Not found on blockchain"),3)])])]),s.certificate&&s.certificate.blockchain_tx_hash?(a(),o("div",pt,[e[21]||(e[21]=t("h4",{class:"font-semibold text-gray-800 mb-2"},"Blockchain Information",-1)),t("div",wt,[t("div",null,[e[19]||(e[19]=t("span",{class:"font-medium"},"Transaction Hash:",-1)),t("p",Ct,i(s.certificate.blockchain_tx_hash),1)]),t("div",null,[e[20]||(e[20]=t("span",{class:"font-medium"},"Certificate Hash:",-1)),t("p",Vt,i(s.hash),1)])])])):n("",!0),t("div",{class:"text-center"},[t("button",{onClick:C,class:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"}," Verify Another Certificate ")])])):n("",!0),h.value?(a(),o("div",Bt,[t("div",jt,[e[22]||(e[22]=t("svg",{class:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",Nt,i(h.value),1)])])):n("",!0)])])]),_:1}))}};export{Et as default};
